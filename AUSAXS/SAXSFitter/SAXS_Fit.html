<!DOCTYPE HTML>

<html>
	
<head>
<title>Structural validation using AUSAXS</title> 
<link rel="icon" href="../../favicon.png" type="image/x-icon" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<link rel="stylesheet" href="../../assets/css/main.css" />
<noscript><link rel="stylesheet" href="../../assets/css/noscript.css" /></noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1J6V1SM060"></script>
<script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-1J6V1SM060');</script>
</head>

<body class="is-preload">

<div id="wrapper">

<div id="main">

<div class="inner">

<h4><a href="../../index.html">Home</a></h4>
<h1>Tutorial: Structural validation using AUSAXS</h1>
<p>Contributors: Kristian Lytje, Jeppe Breum Jacobsen, Jan Skov Pedersen</p>
<p>
	<img src="header.png" style="width:800px"/><br>
	<em>Black: SAXS data. Red: fit from hydrated atomic-resolution structure using AUSAXS. The atoms are shown in green, with the generated hydration shell shown in red. </em>
</p>
<h4>Before you start</h4>
<ul>
	<li> Make sure you have the following free software installed: <br>
		(1) The <a href="https://github.com/AUSAXS/AUSAXS" target="_blank">AUSAXS</a> software.<br>
		(2) Python (including numpy, scipy, and matplotlib) to visualize the results.<br>
		(3) A qualitative understanding of SAXS data is advantageous, but not required. See, for example, <a href="../PrimaryDataAnalysis/PrimaryDataAnalysis.html" target="_blank"> Tutorial: Primary Data analysis.</a>
	</li>
</ul>
<h4>Learning outcomes</h4>
In this tutorial you will learn how to use the structural validation program of the AUSAXS software to compare measured SAXS data with predictions from atomic-resolution structures.
<ul>
	<li>Be familiar with the AUSAXS software. </li>
	<li>Be able to perform structural validation based on measured SAXS data.</li>
</ul>
<h4>Introductory remarks</h4>
	<p> 
		While measured SAXS data by itself does not provide high-resolution information, when combined with atomic-resolution structures it can be a powerful tool for structural validation.
		Such validations have routinely been performed throughout the history of SAXS, for example by comparing measured data with predictions from crystal structures, NMR models, or, more recently, 
		AlphaFold models. <br><br>

		While we will in this tutorial use <code>AUSAXS</code> for the SAXS predictions, many other software packages, such as CRYSOL, Pepsi-SAXS, and FoXS offers the same functionality. 
		The primary difference in these softwares are the excluded volume models, which will not be discussed in detail here. 
		Be aware that none of these tools are suitable for wide-angle analyses. In such cases, molecular dynamics-based programs (such as WAXSiS) should be used. <br><br>

		For more information on the theory behind SAXS predictions from atomic-resolution structures, please refer to the references provided at the end of this tutorial.
	</p>

<h4>Part I: Performing a basic validation</h4>
	Before we start, download the following lysozyme files:
	<ul>
		<li>The <a href="https://files.rcsb.org/download/2EPE.cif" target="_blank">lysozyme <code>CIF</code> structure file</a> from RCSB. </li>
		<li>The measured in-house <a href="2epe.dat" target="_blank">SAXS data</a>.</li>
	</ul>

	You can perform the validation using either the graphical or the command-line interface. 
	If you encounter issues running the software, please refer to the <a href="https://github.com/AUSAXS/AUSAXS/wiki/Troubleshooting" target="_blank">AUSAXS troubleshooting guide</a>.
	<ul>
		<li>Graphical interface: <br>
			If you have moved the program from the downloaded folder, make sure to also move the plotting script to the same destination.<br>
			Open the AUSAXS program <code>saxs_fitter_gui</code> and load both the structure file and SAXS data. Then click the "start" button. <br>
			You may also have to run the <code>plot</code> program (or script) to generate the plots.
		</li>
		<li>Command-line interface: <br> 
			Move all files to the same directory, and launch a terminal from there. <br>
			Then run the command: <code>saxs_fitter 2epe.cif 2epe.dat</code></li>
			<ul> When the program is done, run the following plotting command:
				<li><i>Windows</i>: <code>./plot.exe</code></li>
				<li><i>Mac or Linux</i>: <code>python scripts/plot.py</code></li>
			</ul>
		</li>
		<li>Python interface: <br>
			Make sure you have installed the <code>pyAUSAXS</code> package: <code>pip install pyausaxs</code>. Then run the following script:
			<code>
				import matplotlib.pyplot as plt  
				import pyausaxs as ausaxs  
				  
				mol = ausaxs.create_molecule("2epe.cif")  
				fit = pdb.fit("2epe.dat")  
				fit.plot()  
				plt.show()
			</code>
		</li>

<h4>Part II: Analyzing the output</h4>
	<i>GUI or command-line</i><br>
	You should now have the following output files:
	<ol>
		<li>A model.pdb file.</li> : The structure used for the SAXS prediction. This will typically include the generated explicit hydration shell.</li>
		<li>A 2epe.scat file. </li>: The (potentially truncated) data actually used for the fit. This can be opened and viewed as a standard text file.</li>
		<li>A ausaxs.fit file.</li>: A combined file including both the measurement and fitted curve. This file follows the same format as CRYSOL, and may be viewed using e.g. PRIMUS.</li>
		<li>A report.txt file.</li>: A summary of the fit, including the command used to perform it.</li>
		<li>Various .plot files.</li> (if you don't see any plots, run the <code>plot</code> program or script.)</li>
	</ol>
	<p>We will discuss each of these files in more detail below.</p>

	<h6>The model </h6>


	<h6>Understanding the plots</h6>

<h4>Part III: Dealing with difficult structures</h4>

<h4>Part III: Using AUSAXS in Python scripts</h5>
We have recently released <code>pyAUSAXS</code>, a Python interface to the AUSAXS software. This allows you to easily integrate SAXS predictions into your own Python scripts.
We will in this section demonstrate how to use <code>pyAUSAXS</code> to perform the same analyses as in Part I & II. For more information, see the <a href="https://github.com/AUSAXS/pyAUSAXS" target="_blank">online documentation</a>.

<h4>Continuing the analysis</h4>

<h4>Exercises</h4>

<h4>Challenges</h4>

<!--
DO NOT CHANGE ANYTHING BELOW
-->

<h4>Feedback</h4>
	Help us improve the tutorials by 
	<ul>
		<li>Reporting issues and bugs via our <a href="https://github.com/andreashlarsen/SAStutorials/issues" target="_blank" >GitHub page</a>. This could be typos, dead links etc., but also insufficient information or unclear instructions.</li>
		<li>Suggesting new tutorials/additions/improvements in the <a href="https://github.com/andreashlarsen/SAStutorials/discussions" target="_blank" >SAStutorials forum</a>.</li>
		<li>Posting or answering questions in the <a href="https://github.com/andreashlarsen/SAStutorials/discussions" target="_blank" >SAStutorials forum</a>.</li>
	</ul>
<br>
	
<h4><a href="../index.html">Home</a></h4>

<!-- end inner -->
</div>
	
<!-- end main -->
</div>

<!-- end wrapper -->
</div>
	
<!-- Scripts -->
<script src="../../assets/js/jquery.min.js"></script>
<script src="../../assets/js/browser.min.js"></script>
<script src="../../assets/js/breakpoints.min.js"></script>
<script src="../../assets/js/util.js"></script>
<script src="../../assets/js/main.js"></script>
<script>MathJax = {tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]}};</script> 
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

</body>	
</html>
